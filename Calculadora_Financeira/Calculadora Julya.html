<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div  style="align-items: center; justify-content: center; display: flex;"></div>
    <div tyle="display: flex; align-items: center; justify-content: center; flex-direction: column; border-radius: 30px; border-color: black; border: solid; align-self: center; width: 600px; height: 600px;"></div>
        <h1 style="font-family: 'Times New Roman', Times, serif;">Calcule a economia de energia utilizando nosso monitoramento</h1>
    <br>
    <div style = "font:Times New Roman"> Quantidade de lampâdas: </div> </body>
        <input type="text" id="input_qtd_lamp">
        <br>
    <div style = "font:Times New Roman"> Potência das lampâdas: </div> 
        <input type="text" id="input_wlamp" placeholder="9w" min="1">
        <div></div>
        <input type="radio" value="não sei" style = "font-family: 'Times New Roman', Times, serif; font-size: 25px;" placeholder="clique e selecione"> Não sei </span>
<div></div>
<br>
    <h6>Horário de funcionamento do local</h6>
    <div style = "font:Times New Roman"> Horário de abertura: </div> 
    <input type="number" min="0" max="24" placeholder="00/24" id="input_open">

    <div style = "font:Times New Roman"> Horário de fechamento: </div> 
    <input type="number" min="0" max="24" placeholder="00/24" id="input_close">
<br>

<button onclick="Consumo()">Simular</button>
<div></div>

<div id="div_Save" style="text-align: center; font-size: 25px;"></div>
<div id="div_smartlamps" style="text-align: center; font-size: 25px;"></div>

</body>  
</html>

<script>
function Consumo(){

    var lamps = Number(input_qtd_lamp.value);
    var Open = Number (input_open.value);
    var Close = Number (input_clos.value);
    var watts = Number (input_wlamp.value);

    var Funcionamento = (close - open) // Horario de funcionamento total

    var hourday = Number(0);  // Será o horário total durante dia
    var hournight = Number(0); // Será o horário total durante noite
    var totalhour = Close - Open

    hournight = hrTotal - hourday;
    
            var Sunrise = 6;
            var Sunset = 18;

            if(lamps > 0){
                if(Close > Open){
                    if(Open <= Close){
                    if(Sunrise >= Sunset){
                        hourday = Sunset - Sunrise;  // se expediente começar antes das 6am e terminar dps das 6pm >> hourday = 18-6
                        }
                    }

                    if(Open >= Sunrise){
                    if(Close <= Sunset){
                        hourday = Close - Open; // se expediente começar depois das 6am e terminar antes das 6pm 
                        }
                    }

                    if(Open <= Sunsire){
                    if(Close <= Sunset){
                        hourday = Close - Sunrise; // se expediente começar antes das 7 e terminar antes das 17 = HrDuranteDia = fim do expediente - 7
                        }
                    }

                    if(Open >= Sunrise){
                    if(Close >= Sunset){
                        hourday = Sunset - Open; // se expediente começar depois das 7 e terminar dps das 17 = HrDuranteDia = 17 - inicio expediente
                        }
                    }}
            else{
                alert(`Horário de funcionamento da empresa inválido`);
                    var funInv = true;
                }
            }else{
                alert(`Quantidade de lâmpadas inválida`);
                var funInv = true;
            }

        
    var Consumo = cost_month_day + cost_month_night; // kWh diário consumido pela empresa total por mês
        cost_month_day = {[(hourday * lamps * watts) / 1000] * 27} * 0.85;  // 27 dias e R$0.85/kWh
        cost_month_night = {[(hounight * lamps * watts) / 1000] * 27} * 0.85;

              
    var Consumo_economia = (cost_month_day * 0.50) + (cost_month_night * 0.1);
    var Economia_ano = Consumo_economia * 12;

 if(funInv == true){
 resultado.innerHTML = `Recarregue a página e tente novamente com valores válidos`;
  }else{
    div_Save.innerHTML =   `Tempo de funcionamento: ${Funcionamento}h <br>
                                    Com a nossa ferramenta você pode economizar até 50% dos gastos durante o dia e 10% durante a noite, 
                                    o que equivale a R$${Consumo_economia} por mês! <br>
                                    Gerando assim uma economia média de: <b style="color:green">R$${Economia_ano}</b> ANUAL.<br><br>
                                    Valores calculados com base em ${watts}watts por lâmpada.<br><br>
                                    Não possui lâmpadas inteligentes? Clique <a href="#" onclick="get_smartlamps()">aqui</a>`;
            }
            
            console.log(watts)
        }
function get_smartlamps(){
    var smartlamps = Number(qtd_lamps.value);

    if(qnt_lampss<=30){
      div_smartlamps.innerHTML = `Você gastará em média R$${smartlamps*35} para trocar todas as lâmpadas da sua empresa por lampâdas smart. Portanto em ${parseInt((smartlamps*35)/(cost_month_day * 0.50 + cost_month_night * 0.10))} meses você começará a ter economia nos custos energéticos da empresa`;
    }else{
      div_smartlamps.innerHTML = `Você gastará em média R$${smartlamps*25} para trocar todas as lâmpadas da sua empresa por lampâdas smart. Portanto em <span style="color: green;">${parseInt((smartlamps*25)/(cost_month_day * 0.50 + cost_month_night * 0.10))}</span> meses você começará a ter economia nos custos energéticos da empresa.`;
    }}
</script>