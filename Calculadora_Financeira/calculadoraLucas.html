<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style type="text/css">
        *{
            box-sizing: border-box;
        }
        .container{
            display: flex;
            flex-direction: column;
            margin: 15px;
            width: 365px;
        }
        .container div{
            padding-top: 20px;
        }
        .botao{
            display: flex;
            flex-direction: row-reverse;
        }
    </style>

        
        
</head>
<body>

    <div class="container">
        <div class="msg1">
            <span>Quantas lâmpadas?</span>
            <input style="margin-left: 24px;" type="text" id="lamp_input" min="0">
        </div>
        <div class="msg2">
            <span>Horário de abertura:</span>
            <input style="margin-left: 20px;" type="text" id="hrAbertura_input" min="0" max="23">
        </div>
        <div class="msg3">
            <span>Horário de fechamento:</span>
            <input type="text" id="hrFechamento_input" min="0" max="23">
        </div>
        <div class="botao">
            <button onclick="calc()">Calcular</button>
        </div>
    </div>

    <div id="res"></div>

    <script>
        function calc(){
            var qntLampadas = Number(lamp_input.value);
            var hrAbertura = Number(hrAbertura_input.value);
            var hrFechamento = Number(hrFechamento_input.value); 
            var hrTotal = Number(hrFechamento - hrAbertura);  // Horário total de funcionamento da empresa

            var HrDuranteDia = Number(0);  // Será o horário total que a empresa fica aberta durante o dia
            var HrDuranteNoite = Number(0); // Será o oposto
            
            var hrInicioDia = 7;
            var hrTerminoDia = 17;

            // Calcular horário total que a empresa fica aberta durante o dia
            if(qntLampadas>0){

                if(hrAbertura <= hrInicioDia){
                    if(hrFechamento >= hrTerminoDia){
                        HrDuranteDia = hrTerminoDia - hrInicioDia;
                    }
                }
                if(hrAbertura >= hrInicioDia){
                    if(hrFechamento <= hrTerminoDia){
                        HrDuranteDia = hrFechamento - hrAbertura;
                    }
                }
                if(hrAbertura <= hrInicioDia){
                    if(hrFechamento <= hrTerminoDia){
                        HrDuranteDia = hrFechamento - hrInicioDia;
                    }
                }
                if(hrAbertura >= hrInicioDia){
                    if(hrFechamento >= hrTerminoDia){
                        HrDuranteDia = hrTerminoDia - hrAbertura;
                    }
                }

                // Calcular horário total que a empresa fica aberta durante a noite
                HrDuranteNoite = hrTotal - HrDuranteDia;
                alert(HrDuranteDia+"\n"+HrDuranteNoite);

            }
            
            var kWhDiario = (30 * qntLampadas * hrTotal) / 1000; // Uso diário de kWh da empresa 30 = watts

            var kWhMensal = kWhDiario * 26 ;

            var gastoMensal = kWhMensal * 0.85; // 0.85 custo do kWh para empresas

            var gastoMensalAoDia = (((HrDuranteDia * qntLampadas * 30) / 1000) * 27) * 0.85;  // 30 = watts. 27 = dias do mes. 0.85 = valor por kWh
            var gastoMensalAoNoite = (((HrDuranteNoite * qntLampadas * 30) / 1000) * 27) * 0.85;
            var GastoDesconto = (gastoMensalAoDia * 0.50) + gastoMensalAoNoite;



            res.innerHTML = `Horário de funcionamento durante o dia: ${HrDuranteDia}<br>
                            Horário de funcionamento durante a noite: ${HrDuranteNoite}<br>
                            Horário de funcionamento total: ${hrTotal}<br>
                            Gasto total mensal: R$${gastoMensal.toFixed(2)}<br>
                            Usando nosso serviço você poderá economizar até 50% em sua conta de energia, o que equivale a
                            R$${gastoMensalAoDia * 0.50 + gastoMensalAoNoite * 0.10}
                            <p>Valores baseados em 30watts por lâmpada</p>`;
            
        }

        
    </script>

    
</body>
</html>